<task name="check_init_E#ENS#" maxtries="&MAX_TRIES;">
  <command>&PRE; &EXhwrf;/exhwrf_check_init.py</command>
  <jobname>hwrf_check_init_&SID;_<cyclestr>@Y@m@d@H</cyclestr>_E#ENS#</jobname>
  <account>&ACCOUNT;</account>
  <queue>&SERIAL;</queue>
  <cores>1</cores>
  <envar>
    <name>TOTAL_TASKS</name>
    <value>1</value>
  </envar>
  <walltime>00:15:00</walltime>
  <memory>1G</memory>
  <stdout><cyclestr>&WORKhwrf;/hwrf_check_init.out</cyclestr></stdout>
  <stderr><cyclestr>&WORKhwrf;/hwrf_check_init.err</cyclestr></stderr>

  &SERIAL_EXTRA;
  &ENV_VARS;
  &RESERVATION;
  &CORES_EXTRA;

  <dependency>
    <and>
      <taskdep task="bdy_E#ENS#"/>
      <or>
        <taskdep task="ocean_init_E#ENS#"/>
        <strneq><left>&RUN_OCEAN;</left><right>YES</right></strneq>
      </or>

      <or>
        <and>
          <taskdep task="init_GFS_0_E#ENS#"/>
          <strneq><left>&RUN_GSI;</left><right>YES</right></strneq>
          <strneq><left>&RUN_RELOCATION;</left><right>YES</right></strneq>
        </and>
        <and>
          <taskdep task="merge_E#ENS#"/>
          <streq><left>&RUN_GSI;</left><right>YES</right></streq>
        </and>
        <and>
          <taskdep task="relocate_GFS_0_E#ENS#"/>
          <strneq><left>&RUN_GSI;</left><right>YES</right></strneq>
        </and>
        <and>
          <datadep><cyclestr>&COMhwrf;/&STORMLABEL;.gsi_status</cyclestr></datadep>
          <sh>grep -v '=YES' <cyclestr>&COMhwrf;/&STORMLABEL;.gsi_status</cyclestr></sh>
          <taskdep task="relocate_GFS_0_E#ENS#"/>
        </and>
      </or>
    </and>
  </dependency>
</task>
